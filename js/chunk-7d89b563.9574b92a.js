(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d89b563"],{2049:function(t,s,r){"use strict";r.r(s);var e=function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("form",{staticClass:"login",on:{submit:function(s){return s.preventDefault(),t.onsubmit(s)}}},[r("div",{staticClass:"d-flex justify--center mt-3"},[r("Vtest",{staticClass:"img"})],1),""!==t.overallError?r("div",{staticClass:"d-flex justify--center mt-3"},[r("p",{staticClass:"overAllEerror"},[t._v(" "+t._s(t.overallError)+" ")])]):t._e(),r("va-input",{attrs:{label:t.$t("auth.email"),error:!!t.emailErrors.length,"error-messages":t.emailErrors,disabled:t.stopBTn,removable:""},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),r("va-input",{attrs:{type:"password",label:t.$t("auth.password"),error:!!t.passwordErrors.length,"error-messages":t.passwordErrors,disabled:t.stopBTn,passwordView:"",removable:""},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),r("div",{staticClass:"d-flex justify--center mt-5"},[r("button",{staticClass:"my-0 recoverLink",attrs:{type:"submit",disabled:t.stopBTn}},[t._v(t._s(t.$t("auth.login")))])])],1)},o=[],a=r("2591"),n=function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("img",{attrs:{src:"https://www.rcrc.gov.sa/wp-content/themes/Riyadh-Royal-Commission/images/logo.png"}})},i=[],l={name:"VaIconVuestic",inject:["contextConfig"],computed:{themeGradientId:function(){return this.contextConfig.invertedColor?"CORPORATE":"ORIGINAL"},textColor:function(){return this.contextConfig.invertedColor?"#6E85E8":"#E4FF32"}}},c=l,u=(r("8b2c"),r("2877")),d=Object(u["a"])(c,n,i,!1,null,null,null),h=d.exports,m={name:"login",components:{Vtest:h},data:function(){return{email:"",password:"",keepLoggedIn:!1,stopBTn:!1,emailErrors:[],passwordErrors:[],overallError:""}},created:function(){document.title=this.$t("generic.RCRCBus")+"-"+this.$t("auth.login"),this.$store.state.status.loggedIn&&!this.$store.state.status.mustChangePass&&this.$router.push({name:"dashboard"}),this.$store.state.status.loggedIn&&this.$store.state.status.mustChangePass&&this.$router.push({name:"recover-password"})},computed:{formReady:function(){return!this.emailErrors.length&&!this.passwordErrors.length}},watch:{email:function(t){this.stopBTn=!1},password:function(t){this.stopBTn=!1}},methods:{onsubmit:function(){var t=this;this.stopBTn=!0,this.overallError="",this.emailErrors=this.email?[]:["Email is required"],this.passwordErrors=this.password?[]:["Password is required"],this.formReady?this.email&&this.password&&a["a"].auth().signInWithEmailAndPassword(this.email,this.password).then((function(s){console.log("Successfully logged in!"),localStorage.setItem("user",JSON.stringify(s.user)),t.$store.dispatch("login",s.user),t.$router.push({name:"dashboard"}),localStorage.removeItem("mustlogin"),t.stopBTn=!1})).catch((function(s){switch(console.log(s.code),s.code){case"auth/invalid-email":t.overallError="Invalid email";break;case"auth/user-not-found":t.overallError="No account with that email was found";break;case"auth/wrong-password":t.overallError="Incorrect password";break;default:t.overallError="Email or password was incorrect";break}t.stopBTn=!1})):this.stopBTn=!1}}},p=m,f=(r("531a"),Object(u["a"])(p,e,o,!1,null,null,null));s["default"]=f.exports},"531a":function(t,s,r){"use strict";r("d454")},"65c0":function(t,s,r){},"8b2c":function(t,s,r){"use strict";r("65c0")},d454:function(t,s,r){}}]);
//# sourceMappingURL=chunk-7d89b563.9574b92a.js.map