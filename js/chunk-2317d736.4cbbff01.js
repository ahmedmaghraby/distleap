(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2317d736"],{"2ee3":function(e,t,n){var o,a;(function(i,r){if(null===i)throw new Error("Google-maps package can be used only in browser");o=r,a="function"===typeof o?o.call(t,n,t,e):o,void 0===a||(e.exports=a)})("undefined"!==typeof window?window:null,(function(){"use strict";var e="3.31",t=null,n=null,o=!1,a=[],i=[],r=null,s={URL:"https://maps.googleapis.com/maps/api/js",KEY:null,LIBRARIES:[],CLIENT:null,CHANNEL:null,LANGUAGE:null,REGION:null};s.VERSION=e,s.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",s._googleMockApiObject={},s.load=function(e){null===n?!0===o?e&&a.push(e):(o=!0,window[s.WINDOW_CALLBACK_NAME]=function(){l(e)},s.createLoader()):e&&e(n)},s.createLoader=function(){t=document.createElement("script"),t.type="text/javascript",t.src=s.createUrl(),document.body.appendChild(t)},s.isLoaded=function(){return null!==n},s.createUrl=function(){var e=s.URL;return e+="?callback="+s.WINDOW_CALLBACK_NAME,s.KEY&&(e+="&key="+s.KEY),s.LIBRARIES.length>0&&(e+="&libraries="+s.LIBRARIES.join(",")),s.CLIENT&&(e+="&client="+s.CLIENT),s.CHANNEL&&(e+="&channel="+s.CHANNEL),s.LANGUAGE&&(e+="&language="+s.LANGUAGE),s.REGION&&(e+="&region="+s.REGION),s.VERSION&&(e+="&v="+s.VERSION),e},s.release=function(l){var c=function(){s.KEY=null,s.LIBRARIES=[],s.CLIENT=null,s.CHANNEL=null,s.LANGUAGE=null,s.REGION=null,s.VERSION=e,n=null,o=!1,a=[],i=[],"undefined"!==typeof window.google&&delete window.google,"undefined"!==typeof window[s.WINDOW_CALLBACK_NAME]&&delete window[s.WINDOW_CALLBACK_NAME],null!==r&&(s.createLoader=r,r=null),null!==t&&(t.parentElement.removeChild(t),t=null),l&&l()};o?s.load((function(){c()})):c()},s.onLoad=function(e){i.push(e)},s.makeMock=function(){r=s.createLoader,s.createLoader=function(){window.google=s._googleMockApiObject,window[s.WINDOW_CALLBACK_NAME]()}};var l=function(e){var t;for(o=!1,null===n&&(n=window.google),t=0;t<i.length;t++)i[t](n);for(e&&e(n),t=0;t<a.length;t++)a[t](n);a=[]};return s}))},5340:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"google-maps-page"},[n("div",{staticClass:"row"},[n("div",{staticClass:"flex md12 xs12"},[n("va-card",{staticClass:"google-maps-page__widget",attrs:{title:e.$t("generic.checkRoute")}},[n("google-map")],1)],1)])])},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",{staticClass:"row justify--space-between pt-3"},[n("span",[e._v(e._s(e.$t("expectedTime"))),n("span",[e._v(e._s(e.expextedTime))])]),n("span",[e._v(e._s(e.$t("distance"))),n("span",[e._v(e._s(e.rdistance))])]),n("span",[e._v(e._s(e.$t("timeNow"))+" "),n("span",[e._v(e._s(e.timeNow))])])]):e._e(),n("div",{staticClass:"row"},[n("div",{ref:"googleMapWaypoints",staticClass:"google-map fill-height",attrs:{id:"map"}}),n("div",{attrs:{id:"sidebar"}},[e.distance?n("p",[e._v(e._s(e.$t("TotalDistance"))+": "),n("span",{attrs:{id:"total"}},[e._v(e._s(e.distance))])]):e._e(),n("div",{attrs:{id:"panel"}})])])])},r=[],s=n("a34a"),l=n.n(s),c=n("2ee3"),p=n("4583"),u=n("bc3a"),d=n.n(u),g=n("df40");function f(e,t,n,o,a,i,r){try{var s=e[i](r),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){f(i,o,a,r,s,"next",e)}function s(e){f(i,o,a,r,s,"throw",e)}r(void 0)}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={name:"google-map",data:function(){return{routeName:"",timeNow:"",rdistance:"",expextedTime:"",distance:"",DeafultTime:"",waypoints:[],routes:[],routsSelect:{value:[],options:[]},from:null,departureTime:null,loading:!1,googleMap:null,smap:null,showTrafic:!1,showPrimariy:!0,showsec:!0,trafficLayer:null,markers:[],IW:null,directionsRenderer:null}},components:w({},p),mounted:function(){var e=this;return m(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.PageRender();case 2:case"end":return t.stop()}}),t)})))()},methods:{PageRender:function(){var e=this;return m(l.a.mark((function t(){var n;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,c["KEY"]="AIzaSyC6Wt_40qWZ7up5hvZi9GwzxYWmwjnXggs",c["VERSION"]="3.35",t.next=5,c["load"]((function(t){function o(e){var o=document.createElement("button");return o.style.backgroundColor="#fff",o.style.border="2px solid #fff",o.style.borderRadius="3px",o.style.boxShadow="rgb(0 0 0 / 30%) 0px 1px 4px -1px",o.style.color="rgb(25,25,25)",o.style.cursor="pointer",o.style.fontFamily="Roboto,Arial,sans-serif",o.style.fontSize="16px",o.style.lineHeight="38px",o.style.margin="8px 0 22px",o.style.padding="0 5px",o.style.width="40px",o.style.textAlign="center",o.innerHTML='<i class="fa fa-clock-o fa-lg"></i>',o.title="اضغط لتحسب ازدحام الطريق",o.type="button",o.addEventListener("click",(function(){n.render(new t.maps.LatLng(24.835745918122562,46.72987580001744))})),o}n.googleMap=t,n.smap=new t.maps.Map(e.$refs.googleMapWaypoints,{center:new t.maps.LatLng(24.774265,46.738586),zoom:11,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:t.maps.ControlPosition.RIGHT_BOTTOM},scaleControl:!0,fullscreenControl:!1,mapTypeControl:!1,mapTypeId:t.maps.MapTypeId.ROADMAP}),Object(g["a"])(t,n.smap);var a=document.createElement("div"),i=o(n.smap);a.appendChild(i),a.className="calcRoute",n.smap.controls[t.maps.ControlPosition.RIGHT_BOTTOM].push(a),n.smap.addListener("click",(function(o){console.log("test"),n.from&&(n.routes.forEach((function(e){null===e||void 0===e||e.setMap(null)})),n.from=null,n.distance="",n.loading=!1,n.waypoints=[],n.routes=[],n.directionsRenderer.setMap(null)),n.from=o.latLng;var a=new t.maps.DirectionsService;n.directionsRenderer=new t.maps.DirectionsRenderer({draggable:!0,map:n.smap,panel:document.getElementById("panel")}),n.directionsRenderer.addListener("directions_changed",(function(){var t=n.directionsRenderer.getDirections();t&&e.computeTotalDistance(t)}));var i=new t.maps.LatLng(24.835745918122562,46.72987580001744);e.displayRoute(n.from,i,a,n.directionsRenderer,[])}))}));case 5:case"end":return t.stop()}}),t)})))()},displayRoute:function(e,t,n,o,a){n.route({origin:e,destination:t,travelMode:"DRIVING",durationInTraffic:!0,language:"ar"}).then((function(e){o.setDirections(e)})).catch((function(e){alert("Could not display directions due to: "+e)}))},computeTotalDistance:function(e){var t,n,o=this;(null===e||void 0===e||null===(t=e.request)||void 0===t||null===(n=t.waypoints)||void 0===n?void 0:n.length)&&(this.waypoints=[],e.request.waypoints.forEach((function(e){console.log("point",e),o.waypoints.push({latitude:e.location.lat(),longitude:e.location.lng()})})));var a=0,i=0,r=e.routes[0];if(r){for(var s=0;s<r.legs.length;s++)a+=r.legs[s].distance.value,i+=r.legs[s].duration.value;this.distance=a,this.DeafultTime=i,a/=1e3,this.distance=a+this.$t("KM")}},render:function(e){var t=this;this.loading=!0;var n={origin:t.from,destination:e,waypoints:t.waypoints,departureTime:null};d.a.post("https://map-api-ubzex7qxpa-ew.a.run.app/routes/computeRouteWithTrafficLength",n).then((function(e){t.timeNow=e.data[0].statistics.duration.text,t.expextedTime=e.data[0].statistics.staticDuration.text,t.rdistance=e.data[0].statistics.distance.text,c["KEY"]="AIzaSyC6Wt_40qWZ7up5hvZi9GwzxYWmwjnXggs",c["VERSION"]="3.35",c["load"]((function(n){var o={TRAFFIC_JAM:"#d74342",SLOW:"#e69e01",NORMAL:"#4078c9"},a=e.data[0].polyline.geoJsonLinestring.coordinates,i=a.map((function(e){return{lat:e[1],lng:e[0]}}));t.directionsRenderer.setMap(null),e.data[0].travelAdvisory.speedReadingIntervals.forEach((function(e){var a=i.slice(0===e.startPolylinePointIndex?0:e.startPolylinePointIndex-1,e.endPolylinePointIndex),r=new n.maps.Polyline({path:a,strokeColor:o[e.speed],geodesic:!0,strokeOpacity:1,strokeWeight:6});r.setMap(t.smap),t.routes.push(r)}))}))}))}}},O=y,_=(n("9f7b"),n("2877")),C=Object(_["a"])(O,i,r,!1,null,null,null),L=C.exports,E={name:"google-maps-page",components:{GoogleMap:L}},b=E,A=Object(_["a"])(b,o,a,!1,null,null,null);t["default"]=A.exports},"9f7b":function(e,t,n){"use strict";n("df00")},df00:function(e,t,n){},df40:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=[[24.834390282923472,46.726942687059456],[24.83352596002162,46.727552103129206],[24.833514698341,46.72764251565651],[24.835829951487217,46.732673596326904],[24.836033975492047,46.73280474279101],[24.836160277748636,46.73272712819991],[24.836830652819362,46.73162980282343],[24.836767502398917,46.73151471667984],[24.834392472564037,46.726989756747095]],a=[[24.835935991606018,46.727812123357005],[24.834390528851333,46.72677352796306],[24.836836063476674,46.73148472831077],[24.836899750056897,46.73148005153129],[24.837235175413724,46.730839101980166],[24.837286128159633,46.730549034909295],[24.835933619176323,46.72780722380092]],i=[[24.83785570338497,46.737324372981526],[24.839167378105834,46.73392127330064],[24.837369367189563,46.733042293374716],[24.83707087410722,46.733040009418836],[24.836896029262224,46.73310922252916],[24.836788379054347,46.7331556401303],[24.836657326616745,46.73318142783453],[24.8364935108966,46.73310406649334],[24.836423304103672,46.73304733476273],[24.83587291824639,46.73349083884446]],r=[[24.828950517373396,46.72444691815201],[24.82891025841422,46.72389993162718],[24.829077960944453,46.72341207417651],[24.829366416727588,46.723027696459205],[24.829695126059907,46.72279115125598],[24.83005067203883,46.722680264728254],[24.830352552883397,46.72268025652009],[24.832069954985403,46.7261987521028],[24.83031904620291,46.72734447579793]],s=[[24.820496418619566,46.70908343774435],[24.820159134245923,46.70888879704677],[24.817292303494224,46.711056536064945],[24.821105624899314,46.7158434192276],[24.822617721724633,46.71327505355195]],l=o.map((function(e){return{lat:e[0],lng:e[1]}})),c=a.map((function(e){return{lat:e[0],lng:e[1]}})),p=i.map((function(e){return{lat:e[0],lng:e[1]}})),u=r.map((function(e){return{lat:e[0],lng:e[1]}})),d=s.map((function(e){return{lat:e[0],lng:e[1]}})),g=[{position:[24.835352308351325,46.72963191240156],img:"https://gcdnb.pbrd.co/images/hnKUay2TdxIv.png"},{position:[24.836287779512137,46.7292490420719],img:"https://developers.google.com/maps/documentation/javascript/examples/full/images/parking_lot_maps.png"},{position:[24.83782012388439,46.7344521219667],img:"https://developers.google.com/maps/documentation/javascript/examples/full/images/parking_lot_maps.png"},{position:[24.831075812684364,46.72558728126527],img:"https://developers.google.com/maps/documentation/javascript/examples/full/images/parking_lot_maps.png"},{position:[24.820516349336494,46.71266163039018],img:"http://cdn.onlinewebfonts.com/svg/img_27942.png"}];function f(e,t){var n=new e.maps.Polygon({paths:u,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35});n.setMap(t);var o=new e.maps.Polygon({paths:d,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35});o.setMap(t);var a=new e.maps.Polygon({paths:p,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35});a.setMap(t);var i=new e.maps.Polygon({paths:c,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35});i.setMap(t);var r=new e.maps.Polygon({paths:l,strokeColor:"#58007b",strokeOpacity:.8,strokeWeight:2,fillColor:"#58007b",fillOpacity:.35});r.setMap(t),g.forEach((function(n,o){var a={url:n.img,scaledSize:new e.maps.Size(25,35)},i={url:n.img,scaledSize:new e.maps.Size(25,35)};new e.maps.Marker({position:new e.maps.LatLng(n.position[0],n.position[1]),map:t,animation:0===o?e.maps.Animation.BOUNCE:e.maps.Animation.DROP,icon:4===o?a:i})}))}}}]);
//# sourceMappingURL=chunk-2317d736.4cbbff01.js.map