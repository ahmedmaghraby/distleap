{"version":3,"sources":["webpack:///./src/components/auth/login/Login.vue?ad42","webpack:///src/components/auth/login/Login.vue","webpack:///./src/components/auth/login/Login.vue?d3f6","webpack:///./src/components/auth/login/Login.vue","webpack:///./src/components/auth/login/Login.vue?7af9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","onsubmit","overallError","_v","_s","_e","attrs","$t","emailErrors","length","stopBTn","model","value","callback","$$v","email","expression","passwordErrors","password","staticRenderFns","name","components","data","keepLoggedIn","created","document","title","$store","state","status","loggedIn","mustChangePass","$router","push","computed","formReady","watch","methods","component"],"mappings":"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","file":"js/chunk-79cf9527.d89740dd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"login\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onsubmit($event)}}},[_c('div',{staticClass:\"d-flex justify--center mt-3\"},[_c('Vtest')],1),(_vm.overallError !== '')?_c('div',{staticClass:\"d-flex justify--center mt-3\"},[_c('p',{staticClass:\"overAllEerror\"},[_vm._v(\" \"+_vm._s(_vm.overallError)+\" \")])]):_vm._e(),_c('va-input',{attrs:{\"label\":_vm.$t('auth.email'),\"error\":!!_vm.emailErrors.length,\"error-messages\":_vm.emailErrors,\"disabled\":_vm.stopBTn,\"removable\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('va-input',{attrs:{\"type\":\"password\",\"label\":_vm.$t('auth.password'),\"error\":!!_vm.passwordErrors.length,\"error-messages\":_vm.passwordErrors,\"disabled\":_vm.stopBTn,\"passwordView\":\"\",\"removable\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"d-flex justify--center mt-5\"},[_c('button',{staticClass:\"my-0 recoverLink\",attrs:{\"type\":\"submit\",\"disabled\":_vm.stopBTn}},[_vm._v(_vm._s(_vm.$t('auth.login')))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form class=\"login\" @submit.prevent=\"onsubmit\">\n    <div class=\"d-flex justify--center mt-3\">\n      <Vtest  />\n    </div>\n    <div class=\"d-flex justify--center mt-3\" v-if=\"overallError !== ''\">\n      <p class=\"overAllEerror\"> {{overallError}} </p>\n    </div>\n    <va-input\n      v-model=\"email\"\n      :label=\"$t('auth.email')\"\n      :error=\"!!emailErrors.length\"\n      :error-messages=\"emailErrors\"\n      :disabled=\"stopBTn\"\n      removable\n    />\n\n    <va-input\n      v-model=\"password\"\n      type=\"password\"\n      :label=\"$t('auth.password')\"\n      :error=\"!!passwordErrors.length\"\n      :error-messages=\"passwordErrors\"\n      :disabled=\"stopBTn\"\n      passwordView\n      removable\n    />\n\n    <div class=\"d-flex justify--center mt-5\">\n      <button type=\"submit\"  :disabled=\"stopBTn\" class=\"my-0 recoverLink\">{{ $t('auth.login') }}</button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport firebase from 'firebase'\nimport Vtest from '../../../iconset/Vtest'\n\nexport default {\n  name: 'login',\n  components: { Vtest },\n\n  data () {\n    return {\n      email: '',\n      password: '',\n      keepLoggedIn: false,\n      stopBTn: false,\n      emailErrors: [],\n      passwordErrors: [],\n      overallError: '',\n    }\n  },\n  created () {\n    document.title = this.$t('generic.Leap') + '-' + this.$t('auth.login')\n\n    if (this.$store.state.status.loggedIn && !this.$store.state.status.mustChangePass) {\n      this.$router.push({ name: 'google-maps' })\n    }\n    if (this.$store.state.status.loggedIn && this.$store.state.status.mustChangePass) {\n      this.$router.push({ name: 'recover-password' })\n    }\n  },\n  computed: {\n    formReady () {\n      return !this.emailErrors.length && !this.passwordErrors.length\n    },\n  },\n  watch: {\n    email: function (val) {\n      this.stopBTn = false\n    },\n    password: function (val) {\n      this.stopBTn = false\n    },\n  },\n  methods: {\n    onsubmit () {\n      this.stopBTn = true\n      this.overallError = ''\n      this.emailErrors = this.email ? [] : ['Email is required']\n      this.passwordErrors = this.password ? [] : ['Password is required']\n      if (!this.formReady) {\n        this.stopBTn = false\n\n        return\n      }\n      if (this.email && this.password) {\n        firebase\n          .auth()\n          .signInWithEmailAndPassword(this.email, this.password) // THIS LINE CHANGED\n          .then((response) => {\n            console.log('Successfully logged in!')\n            localStorage.setItem('user', JSON.stringify(response.user))\n            this.$store.dispatch('login', response.user)\n            this.$router.push({ name: 'google-maps' })\n            localStorage.removeItem('mustlogin')\n            this.stopBTn = false\n          })\n          .catch(error => {\n            console.log(error.code)\n            switch (error.code) {\n              case 'auth/invalid-email':\n                this.overallError = 'Invalid email'\n                break\n              case 'auth/user-not-found':\n                this.overallError = 'No account with that email was found'\n                break\n              case 'auth/wrong-password':\n                this.overallError = 'Incorrect password'\n                break\n              default:\n                this.overallError = 'Email or password was incorrect'\n                break\n            }\n\n            this.stopBTn = false\n          })\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n\n.recoverLink {\n  color: #ff512f;\n  padding: 10px 0;\n  border: 1px solid;\n  border-radius: 4px;\n  width: 100%;\n}\n\n.va-input__container {\n  border-radius: 4px;\n}\n\n.va-input__container__label {\n  color: #ff512f !important;\n}\n\n.overAllEerror {\n  color: red;\n}\n\n.login {\n  height: 520px;\n  width: 400px;\n  background-color: rgba(255, 255, 255, 0.13);\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: 50%;\n  left: 50%;\n  border-radius: 10px;\n  backdrop-filter: blur(10px);\n  border: 2px solid rgba(255, 255, 255, 0.1);\n  box-shadow: 0 0 40px rgba(8, 7, 16, 0.6);\n  padding: 50px 35px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=8f1937e4&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}