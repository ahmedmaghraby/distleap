(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45f4b9c1"],{"2ee3":function(t,e,n){var a,o;(function(i,s){if(null===i)throw new Error("Google-maps package can be used only in browser");a=s,o="function"===typeof a?a.call(e,n,e,t):a,void 0===o||(t.exports=o)})("undefined"!==typeof window?window:null,(function(){"use strict";var t="3.31",e=null,n=null,a=!1,o=[],i=[],s=null,r={URL:"https://maps.googleapis.com/maps/api/js",KEY:null,LIBRARIES:[],CLIENT:null,CHANNEL:null,LANGUAGE:null,REGION:null};r.VERSION=t,r.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",r._googleMockApiObject={},r.load=function(t){null===n?!0===a?t&&o.push(t):(a=!0,window[r.WINDOW_CALLBACK_NAME]=function(){l(t)},r.createLoader()):t&&t(n)},r.createLoader=function(){e=document.createElement("script"),e.type="text/javascript",e.src=r.createUrl(),document.body.appendChild(e)},r.isLoaded=function(){return null!==n},r.createUrl=function(){var t=r.URL;return t+="?callback="+r.WINDOW_CALLBACK_NAME,r.KEY&&(t+="&key="+r.KEY),r.LIBRARIES.length>0&&(t+="&libraries="+r.LIBRARIES.join(",")),r.CLIENT&&(t+="&client="+r.CLIENT),r.CHANNEL&&(t+="&channel="+r.CHANNEL),r.LANGUAGE&&(t+="&language="+r.LANGUAGE),r.REGION&&(t+="&region="+r.REGION),r.VERSION&&(t+="&v="+r.VERSION),t},r.release=function(l){var c=function(){r.KEY=null,r.LIBRARIES=[],r.CLIENT=null,r.CHANNEL=null,r.LANGUAGE=null,r.REGION=null,r.VERSION=t,n=null,a=!1,o=[],i=[],"undefined"!==typeof window.google&&delete window.google,"undefined"!==typeof window[r.WINDOW_CALLBACK_NAME]&&delete window[r.WINDOW_CALLBACK_NAME],null!==s&&(r.createLoader=s,s=null),null!==e&&(e.parentElement.removeChild(e),e=null),l&&l()};a?r.load((function(){c()})):c()},r.onLoad=function(t){i.push(t)},r.makeMock=function(){s=r.createLoader,r.createLoader=function(){window.google=r._googleMockApiObject,window[r.WINDOW_CALLBACK_NAME]()}};var l=function(t){var e;for(a=!1,null===n&&(n=window.google),e=0;e<i.length;e++)i[e](n);for(t&&t(n),e=0;e<o.length;e++)o[e](n);o=[]};return r}))},"5c8f":function(t,e,n){},e371:function(t,e,n){"use strict";n("5c8f")},efecc:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"google-maps-page"},[n("div",{staticClass:"row"},[n("div",{staticClass:"flex md12 xs12"},[n("va-card",{staticClass:"google-maps-page__widget",attrs:{title:t.$t("generic.routsNow15")}},[n("google-map",{staticStyle:{height:"65vh"}})],1)],1)])])},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row mr-0 mt-1"},[n("va-checkbox",{attrs:{label:t.$t("placeholder.showTrafic")},model:{value:t.showTrafic,callback:function(e){t.showTrafic=e},expression:"showTrafic"}})],1),n("div",{ref:"googleMap",staticClass:"google-map map-fill-height mb-3",staticStyle:{height:"57vh"}})])},s=[],r=n("a34a"),l=n.n(r),c=n("2ee3"),u=n("4583"),p=n("bc3a"),h=n.n(p);function m(t,e,n,a,o,i,s){try{var r=t[i](s),l=r.value}catch(c){return void n(c)}r.done?e(l):Promise.resolve(l).then(a,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function s(t){m(i,a,o,s,r,"next",t)}function r(t){m(i,a,o,s,r,"throw",t)}s(void 0)}))}}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={name:"google-map",data:function(){return{distance:"",routes:[],routesTable:[],routsSelect:{value:[],options:[]},departureTime:null,iconPr:"https://i.ibb.co/zScnP9L/IconPr.gif",iconSc:"https://i.ibb.co/4t5K1jd/IconSec.gif",iconA:"",iconB:"",loading:!0,googleMap:null,smap:null,showTrafic:!1,showPrimariy:!0,showsec:!0,trafficLayer:null,markers:[],IW:null,alert:"https://dm0qx8t0i9gc9.cloudfront.net/previews/audio/BsTwCwBHBjzwub4i4/car-horn-3_Gy26a2Nd_NWM.mp3"}},components:g({},u),mounted:function(){var t=this;return f(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.PageRender();case 2:case"end":return e.stop()}}),e)})))()},methods:{PageRender:function(){var t=this;return f(l.a.mark((function e(){var n;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,c["KEY"]="AIzaSyC6Wt_40qWZ7up5hvZi9GwzxYWmwjnXggs",c["VERSION"]="3.35",e.next=5,c["load"](function(){var e=f(l.a.mark((function e(a){var o,i,s,r,c,u,p,m;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.googleMap=a,n.smap=new a.maps.Map(t.$refs.googleMap,{center:new a.maps.LatLng(24.67451093889048,46.684984545094366),zoom:12,mapTypeId:a.maps.MapTypeId.ROADMAP}),n.IW=new a.maps.InfoWindow,n.trafficLayer=new a.maps.TrafficLayer,n.iconA={url:"http://maps.google.com/mapfiles/kml/paddle/A.png",scaledSize:new a.maps.Size(35,35)},n.iconB={url:"http://maps.google.com/mapfiles/kml/paddle/B.png",scaledSize:new a.maps.Size(35,35)},o="24.597129445118107, 46.746849552066976".split(","),i=new a.maps.LatLng(Number(o[0]),Number(o[1])),s="24.753852667049653, 46.66401329841596".split(","),r=new a.maps.LatLng(Number(s[0]),Number(s[1])),c=["24.597987666454245, 46.7432013847375","24.63461150500481, 46.71706498211887","24.65423086981132, 46.71076917976442","24.661657803678626, 46.71213867579173","24.664994211584943, 46.708272106493915","24.681185125840013, 46.70084895170687","24.681768491908898, 46.69125190514781","24.704255668887896, 46.67991239581891","24.733903345404862, 46.66497447113631"],u=[{loc:"24.59627244594546, 46.73592018493405",name:"Al Batha 210"},{loc:"24.59931894275448, 46.73429910064909",name:"Al Batha 208"},{loc:"24.60779218478512, 46.730116855104754",name:"Al Batha 207"},{loc:"24.627416427622524, 46.71927304863761",name:"Al Batha 204"},{loc:"24.634941994425773, 46.71723041312731",name:"Al Batha 202"},{loc:"24.644197082559483, 46.7162774750187",name:"Al Batha 201"},{loc:"24.652579105969387, 46.712741673815465",name:"Al-Muraba 610"},{loc:"24.660551287117332, 46.712603300181065",name:"Al-Muraba 611"},{loc:"24.665335993932153, 46.708905476925615",name:"Al-Muraba 602"},{loc:"24.665966632184304, 46.707577530411044",name:"Al-Muraba 606"},{loc:"24.670156938117824, 46.70590542481681",name:"Al-Muraba 605"},{loc:"24.681005074449537, 46.70096383470556",name:"Al-Olaya 613"},{loc:"24.681705485323, 46.69128916939727",name:"Olaya 218"},{loc:"24.685365216511087, 46.68953140273582",name:"Olaya 217"},{loc:"24.689461132607526, 46.68746194708449",name:" Olaya 216"},{loc:"24.695108990115735, 46.68460993865002",name:"Olaya 212"},{loc:"24.70339459698896, 46.680393455312874",name:"Olaya 211"},{loc:"24.710529101791384, 46.676831539857986",name:"Olaya 210"},{loc:"24.699066741172036, 46.68258224302117",name:"Olaya 209"},{loc:"24.71798894135059, 46.672985070760795",name:"Olaya 208"},{loc:"24.728219888538923, 46.667884995143666",name:"Olaya 207"},{loc:"24.740351051694358, 46.66175421708246",name:"Olaya 206"}],p=[],m={url:"https://cdn-icons-png.flaticon.com/512/6395/6395324.png",scaledSize:new a.maps.Size(35,35)},c.forEach((function(t,e){var n=t.split(",");p.push({latitude:Number(n[0]),longitude:Number(n[1])})})),u.forEach((function(t,e){var o=t.loc.split(","),i=new a.maps.Marker({position:new a.maps.LatLng(Number(o[0]),Number(o[1])),map:n.smap,title:t.name,animation:a.maps.Animation.DROP,icon:m});n.markers.push(i)})),h.a.post("https://map-api-ubzex7qxpa-ew.a.run.app/routes/computeRouteWithTrafficLength",{origin:i,destination:r,waypoints:p}).then((function(e){n.render(e.data[0],p);var o=new a.maps.Marker({position:new a.maps.LatLng(i),map:n.smap,title:"Riyadh, Transportation Center A, Riyadh",animation:a.maps.Animation.DROP,icon:n.iconA});o.addListener("click",(function(t){n.showIW(e.data[0],t.latLng)})),n.markers.push(o);var s=new t.googleMap.maps.Marker({position:new t.googleMap.maps.LatLng(r),map:t.smap,title:"Al-Mughera Bin Shoubah 101, Riyadh",animation:t.googleMap.maps.Animation.DROP,icon:n.iconB});s.addListener("click",(function(t){n.showIW(e.data[0],t.latLng)})),t.markers.push(s)}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})))()},render:function(t){var e,n=this,a=this;if(t){var o=t.polyline.geoJsonLinestring.coordinates,i=o.map((function(t){return{lat:t[1],lng:t[0]}})),s=(null===(e=t.travelAdvisory)||void 0===e?void 0:e.speedReadingIntervals)||[];s.forEach((function(e){var o=e.startPolylinePointIndex||0,s=e.endPolylinePointIndex||0,r=e.speed,l=i.slice(o,s+1),c={TRAFFIC_JAM:"#d74342",SLOW:"#e69e01",NORMAL:"#4078c9"};l=new n.googleMap.maps.Polyline({path:l,strokeColor:c[r],geodesic:!0,strokeOpacity:1,strokeWeight:6}),n.googleMap.maps.event.addListener(l,"click",(function(e){a.showIW(t,e.latLng)})),l.setMap(a.smap)}))}},showIW:function(t,e){var n=t,a="";a+='<div dir="ltr">',a+='<span class="'.concat("infotitlePr",'">',"خط النسيم الغربي حسان ابن ثابت","</span><br/>"),a+='<span class="infosegment">'.concat(this.$t("distance"),": ").concat(n.statistics.distance.value/1e3," ").concat(this.$t("KM")," </span><br/>"),a+='<span class="infosegment"> '.concat(this.$t("TimeWithoutCrowding"),": ").concat(Math.round(25)," ").concat(this.$t("minuits"),"</span><br/>"),a+='<span class="infosegment"> '.concat(this.$t("timeNow"),": ").concat(this.fromatTime(n.statistics.duration.value,!0),"</span><br/>"),a+="<br/>",a+='<span class="infonormal">'.concat(this.$t("normal"),": ").concat(n.statistics.normal.distance.value/1e3," ").concat(this.$t("KM")," (").concat(n.statistics.normal.distance.percentage,")</span><br/>"),a+='<span class="infoslow">'.concat(this.$t("Slow"),": ").concat(n.statistics.slow.distance.value/1e3," ").concat(this.$t("KM"),"  (").concat(n.statistics.slow.distance.percentage,")</span><br/>"),a+='<span class="infojam">'.concat(this.$t("crowded"),": ").concat(n.statistics.jam.distance.value/1e3," ").concat(this.$t("KM"),"  (").concat(n.statistics.jam.distance.percentage,")</span><br/>"),a+="</div>",this.IW&&(this.IW.setContent(a),this.IW.setPosition(e),this.IW.open({map:this.smap}))},fromatTime:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n?parseInt(t):60*parseInt(t);return a<60&&(e="".concat(a).concat(this.$t("second"))),e="".concat(Math.round(a/60)," ").concat(this.$t("minuits")),e},renderAll:function(){var t=this,e=this;this.routes.forEach((function(n){n.poly&&n.poly.forEach((function(e){null===e||void 0===e||e.setMap(t.smap)}));var a=n.FromLocation.split(","),o=new t.googleMap.maps.LatLng(Number(a[0]),Number(a[1])),i=new t.googleMap.maps.Marker({position:new t.googleMap.maps.LatLng(o),map:t.smap,title:n.RouteName,animation:t.googleMap.maps.Animation.DROP,icon:e.iconA});i.addListener("click",(function(t){e.showIW(n,t.latLng)})),t.markers.push(i)})),this.recenter()},DeletAll:function(){this.routes.forEach((function(t){t.poly&&t.poly.forEach((function(t){null===t||void 0===t||t.setMap(null)}))})),this.markers.forEach((function(t){null===t||void 0===t||t.setMap(null)})),this.recenter()},drawOnlyRoute:function(t){var e=this;if(t.poly){for(var n=0;n<t.poly.length;n++)t.poly[n].setMap(this.smap);var a=t.FromLocation.split(","),o=new this.googleMap.maps.LatLng(Number(a[0]),Number(a[1])),i=new this.googleMap.maps.Marker({position:new this.googleMap.maps.LatLng(o),map:this.smap,title:t.RouteName,animation:this.googleMap.maps.Animation.DROP,icon:e.iconA});i.addListener("click",(function(n){e.showIW(t,n.latLng)})),this.markers.push(i),this.recenter()}},showRouteModal:function(t){this.routsSelect.value=[t];var e=document.getElementsByClassName("google-map")[0].offsetTop;document.getElementsByTagName("main")[0].scrollTo({top:e,behavior:"smooth"}),this.recenter()},recenter:function(){this.smap.panTo(new this.googleMap.maps.LatLng(24.67451093889048,46.684984545094366)),this.smap.setZoom(13)}},watch:{showTrafic:function(){null!=this.trafficLayer&&(this.showTrafic?this.trafficLayer.setMap(this.smap):this.trafficLayer.setMap(null))},showPrimariy:function(){if(this.DeletAll(),this.showsec&&this.showPrimariy)this.routsSelect.value=[];else if(!this.showsec&&this.showPrimariy){this.DeletAll();var t=[];this.routes.forEach((function(e){e.iSPrimary&&t.push(e.id)})),t.length>0&&(this.routsSelect.value=t)}else if(this.showsec&&!this.showPrimariy){this.DeletAll();var e=[];this.routes.forEach((function(t){t.iSPrimary||e.push(t.id)})),e.length>0&&(this.routsSelect.value=e)}else this.routsSelect.value=[]},showsec:function(){if(this.DeletAll(),this.showsec&&this.showPrimariy)this.routsSelect.value=[];else if(!this.showsec&&this.showPrimariy){this.DeletAll();var t=[];this.routes.forEach((function(e){e.iSPrimary&&t.push(e.id)})),t.length>0&&(this.routsSelect.value=t)}else if(this.showsec&&!this.showPrimariy){this.DeletAll();var e=[];this.routes.forEach((function(t){t.iSPrimary||e.push(t.id)})),e.length>0&&(this.routsSelect.value=e)}else this.routsSelect.value=[]},routes:function(){this.routsSelect.options=this.routes},"routsSelect.value":function(){var t=this;this.routsSelect.value.length>0?(this.DeletAll(),this.routsSelect.value.forEach((function(e){console.log(e);var n=t.routes.find((function(t){return t.id===e}));t.drawOnlyRoute(n)}))):(this.DeletAll(),this.renderAll()),console.log("routsSelect.value change",this.routsSelect.value)}}},L=v,y=(n("e371"),n("2877")),A=Object(y["a"])(L,i,s,!1,null,null,null),b=A.exports,M={name:"google-maps-page",components:{GoogleMap:b}},O=M,E=Object(y["a"])(O,a,o,!1,null,null,null);e["default"]=E.exports}}]);
//# sourceMappingURL=chunk-45f4b9c1.a727ffe5.js.map