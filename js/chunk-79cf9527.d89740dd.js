(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79cf9527"],{2049:function(s,t,r){"use strict";r.r(t);var e=function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("form",{staticClass:"login",on:{submit:function(t){return t.preventDefault(),s.onsubmit(t)}}},[r("div",{staticClass:"d-flex justify--center mt-3"},[r("Vtest")],1),""!==s.overallError?r("div",{staticClass:"d-flex justify--center mt-3"},[r("p",{staticClass:"overAllEerror"},[s._v(" "+s._s(s.overallError)+" ")])]):s._e(),r("va-input",{attrs:{label:s.$t("auth.email"),error:!!s.emailErrors.length,"error-messages":s.emailErrors,disabled:s.stopBTn,removable:""},model:{value:s.email,callback:function(t){s.email=t},expression:"email"}}),r("va-input",{attrs:{type:"password",label:s.$t("auth.password"),error:!!s.passwordErrors.length,"error-messages":s.passwordErrors,disabled:s.stopBTn,passwordView:"",removable:""},model:{value:s.password,callback:function(t){s.password=t},expression:"password"}}),r("div",{staticClass:"d-flex justify--center mt-5"},[r("button",{staticClass:"my-0 recoverLink",attrs:{type:"submit",disabled:s.stopBTn}},[s._v(s._s(s.$t("auth.login")))])])],1)},a=[],o=r("2591"),i=r("7ac8"),n={name:"login",components:{Vtest:i["a"]},data:function(){return{email:"",password:"",keepLoggedIn:!1,stopBTn:!1,emailErrors:[],passwordErrors:[],overallError:""}},created:function(){document.title=this.$t("generic.Leap")+"-"+this.$t("auth.login"),this.$store.state.status.loggedIn&&!this.$store.state.status.mustChangePass&&this.$router.push({name:"google-maps"}),this.$store.state.status.loggedIn&&this.$store.state.status.mustChangePass&&this.$router.push({name:"recover-password"})},computed:{formReady:function(){return!this.emailErrors.length&&!this.passwordErrors.length}},watch:{email:function(s){this.stopBTn=!1},password:function(s){this.stopBTn=!1}},methods:{onsubmit:function(){var s=this;this.stopBTn=!0,this.overallError="",this.emailErrors=this.email?[]:["Email is required"],this.passwordErrors=this.password?[]:["Password is required"],this.formReady?this.email&&this.password&&o["a"].auth().signInWithEmailAndPassword(this.email,this.password).then((function(t){console.log("Successfully logged in!"),localStorage.setItem("user",JSON.stringify(t.user)),s.$store.dispatch("login",t.user),s.$router.push({name:"google-maps"}),localStorage.removeItem("mustlogin"),s.stopBTn=!1})).catch((function(t){switch(console.log(t.code),t.code){case"auth/invalid-email":s.overallError="Invalid email";break;case"auth/user-not-found":s.overallError="No account with that email was found";break;case"auth/wrong-password":s.overallError="Incorrect password";break;default:s.overallError="Email or password was incorrect";break}s.stopBTn=!1})):this.stopBTn=!1}}},l=n,u=(r("531a"),r("2877")),c=Object(u["a"])(l,e,a,!1,null,null,null);t["default"]=c.exports},"531a":function(s,t,r){"use strict";r("d454")},d454:function(s,t,r){}}]);
//# sourceMappingURL=chunk-79cf9527.d89740dd.js.map