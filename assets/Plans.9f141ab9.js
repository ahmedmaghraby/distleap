import{d as C,L as S,u as B,K as M,a as F,r as w,o as $,c as p,b as e,t as c,F as z,M as L,j as _,n as j,s as x,N as D}from"./index.433ec507.js";import{C as v,S as N}from"./AxiosClient.a377a822.js";const R="/plans",b={get(){return v.get(`${R}`)},CallBackCheck(u){let f=new FormData;return f.append("id",u),v.post("payment/callback",f,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}})}},U={class:"bg-white dark:bg-gray-900"},T={class:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6"},q={class:"mx-auto max-w-screen-md text-center mb-8 lg:mb-12"},E={class:"mb-4 text-4xl tracking-tight font-extrabold text-gray-900 dark:text-white"},G={class:"mb-5 font-light text-gray-500 sm:text-xl dark:text-gray-400"},I={class:"mx-4 flex flex-wrap justify-center"},O={class:"border-primary shadow-pricing relative z-10 mb-10 overflow-hidden rounded-xl border border-opacity-20 bg-white py-10 px-8 sm:p-12 lg:py-10 lg:px-6 xl:p-12"},Q={class:"text-primary mb-4 block text-lg font-semibold"},V={class:"text-dark mb-5 text-5xl font-bold"},K={role:"list",class:"mb-8 space-y-4 text-left"},X={class:"flex items-center space-x-3"},Y=e("svg",{class:"flex-shrink-0 w-5 h-5 text-green-500 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),H={class:"flex items-center space-x-3"},J=e("svg",{class:"flex-shrink-0 w-5 h-5 text-green-500 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),W={class:"flex items-center space-x-3"},Z=e("svg",{class:"flex-shrink-0 w-5 h-5 text-green-500 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),tt=["onClick"],et=D('<div><span class="absolute left-0 top-7 z-[-1]"><svg width="77" height="172" viewBox="0 0 77 172" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="86" cy="86" r="86" fill="url(#paint0_linear)"></circle><defs><linearGradient id="paint0_linear" x1="86" y1="0" x2="86" y2="172" gradientUnits="userSpaceOnUse"><stop stop-color="#51A79A" stop-opacity="0.09"></stop><stop offset="1" stop-color="#C4C4C4" stop-opacity="0"></stop></linearGradient></defs></svg></span><span class="absolute left-4 top-4 z-[-1]"><svg width="41" height="89" viewBox="0 0 41 89" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="38.9138" cy="87.4849" r="1.42021" transform="rotate(180 38.9138 87.4849)" fill="#51A79A"></circle><circle cx="38.9138" cy="74.9871" r="1.42021" transform="rotate(180 38.9138 74.9871)" fill="#51A79A"></circle><circle cx="38.9138" cy="62.4892" r="1.42021" transform="rotate(180 38.9138 62.4892)" fill="#51A79A"></circle><circle cx="38.9138" cy="38.3457" r="1.42021" transform="rotate(180 38.9138 38.3457)" fill="#51A79A"></circle><circle cx="38.9138" cy="13.634" r="1.42021" transform="rotate(180 38.9138 13.634)" fill="#51A79A"></circle><circle cx="38.9138" cy="50.2754" r="1.42021" transform="rotate(180 38.9138 50.2754)" fill="#51A79A"></circle><circle cx="38.9138" cy="26.1319" r="1.42021" transform="rotate(180 38.9138 26.1319)" fill="#51A79A"></circle><circle cx="38.9138" cy="1.42021" r="1.42021" transform="rotate(180 38.9138 1.42021)" fill="#51A79A"></circle><circle cx="26.4157" cy="87.4849" r="1.42021" transform="rotate(180 26.4157 87.4849)" fill="#51A79A"></circle><circle cx="26.4157" cy="74.9871" r="1.42021" transform="rotate(180 26.4157 74.9871)" fill="#51A79A"></circle><circle cx="26.4157" cy="62.4892" r="1.42021" transform="rotate(180 26.4157 62.4892)" fill="#51A79A"></circle><circle cx="26.4157" cy="38.3457" r="1.42021" transform="rotate(180 26.4157 38.3457)" fill="#51A79A"></circle><circle cx="26.4157" cy="13.634" r="1.42021" transform="rotate(180 26.4157 13.634)" fill="#51A79A"></circle><circle cx="26.4157" cy="50.2754" r="1.42021" transform="rotate(180 26.4157 50.2754)" fill="#51A79A"></circle><circle cx="26.4157" cy="26.1319" r="1.42021" transform="rotate(180 26.4157 26.1319)" fill="#51A79A"></circle><circle cx="26.4157" cy="1.4202" r="1.42021" transform="rotate(180 26.4157 1.4202)" fill="#51A79A"></circle><circle cx="13.9177" cy="87.4849" r="1.42021" transform="rotate(180 13.9177 87.4849)" fill="#51A79A"></circle><circle cx="13.9177" cy="74.9871" r="1.42021" transform="rotate(180 13.9177 74.9871)" fill="#51A79A"></circle><circle cx="13.9177" cy="62.4892" r="1.42021" transform="rotate(180 13.9177 62.4892)" fill="#51A79A"></circle><circle cx="13.9177" cy="38.3457" r="1.42021" transform="rotate(180 13.9177 38.3457)" fill="#51A79A"></circle><circle cx="13.9177" cy="13.634" r="1.42021" transform="rotate(180 13.9177 13.634)" fill="#51A79A"></circle><circle cx="13.9177" cy="50.2754" r="1.42021" transform="rotate(180 13.9177 50.2754)" fill="#51A79A"></circle><circle cx="13.9177" cy="26.1319" r="1.42021" transform="rotate(180 13.9177 26.1319)" fill="#51A79A"></circle><circle cx="13.9177" cy="1.42019" r="1.42021" transform="rotate(180 13.9177 1.42019)" fill="#51A79A"></circle><circle cx="1.41963" cy="87.4849" r="1.42021" transform="rotate(180 1.41963 87.4849)" fill="#51A79A"></circle><circle cx="1.41963" cy="74.9871" r="1.42021" transform="rotate(180 1.41963 74.9871)" fill="#51A79A"></circle><circle cx="1.41963" cy="62.4892" r="1.42021" transform="rotate(180 1.41963 62.4892)" fill="#51A79A"></circle><circle cx="1.41963" cy="38.3457" r="1.42021" transform="rotate(180 1.41963 38.3457)" fill="#51A79A"></circle><circle cx="1.41963" cy="13.634" r="1.42021" transform="rotate(180 1.41963 13.634)" fill="#51A79A"></circle><circle cx="1.41963" cy="50.2754" r="1.42021" transform="rotate(180 1.41963 50.2754)" fill="#51A79A"></circle><circle cx="1.41963" cy="26.1319" r="1.42021" transform="rotate(180 1.41963 26.1319)" fill="#51A79A"></circle><circle cx="1.41963" cy="1.4202" r="1.42021" transform="rotate(180 1.41963 1.4202)" fill="#51A79A"></circle></svg></span></div>',1),rt={"x-show":"openPaymentModal","x-transition":"","x-transition.duration.300":"",class:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-xl my-8"},lt={class:"p-5"},at=e("div",{class:"mysr-form"},null,-1),ct={class:"flex justify-end items-center mt-8"},it=C({__name:"Plans",setup(u){const f=S(),{t:s}=B(),k=M();F({title:"Subscription Plans"});const y=w([]),d=w(!1);$(()=>{var a;const r=window.location.search,t=new URLSearchParams(r);t.get("status")=="failed"?o((a=t.get("message"))!=null?a:s("Plans.failed")):t.get("status")=="paid"?b.CallBackCheck(t.get("id")).then(l=>{var n,m,A;(l==null?void 0:l.status)===200?(i(s("Plans.donePayment")),f.closeLoader(),k.push("/")):((n=l==null?void 0:l.response)==null?void 0:n.status)>400?o((m=l.response.data.message)!=null?m:s("Plans.failed")):(l==null?void 0:l.status)>400?o((A=l.data.message)!=null?A:s("Plans.failed")):o(l!=null?l:s("Plans.failed"))}).catch(l=>{var n,m;l.response.data.message?o((n=l.response.data.message)!=null?n:s("Plans.failed")):l.data.message?o((m=l.data.message)!=null?m:s("Plans.failed")):o()}):o()});const o=(r=null)=>{b.get().then(t=>{var a;(t==null?void 0:t.status)===200?y.value=t.data.data:((a=t==null?void 0:t.response)==null?void 0:a.status)>400?i(t.response.data.message,"error"):(t==null?void 0:t.status)>400?i(t.data.message,"error"):i(t,"error"),f.closeLoader(),r&&i(r!=null?r:s("Plans.failed"),"error")}).catch(t=>{t.response.data.message?i(t.response.data.message,"error"):t.data.message?i(t.data.message,"error"):i(s("error"),"error")})},g=(r=0)=>{d.value=!d.value,d.value==!0&&P(parseFloat(r))},P=r=>{window.Moyasar.init({element:".mysr-form",amount:parseFloat(r)*100,currency:"SAR",language:"ar",description:"Coffee Order #1",publishable_api_key:"pk_test_Uan8dQPE4xpS1TsckoQAdSs93DdBhbqiTSRXU9xD",callback_url:"http://127.0.0.1:5173/auth/plans",methods:["creditcard"],on_completed:function(t){return new Promise(function(a,l){a({})})}})},i=(r="",t="success")=>{N.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:7e3,customClass:{container:"toast"}}).fire({icon:t,title:r,padding:"10px 20px"})},h=r=>new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR",minimumFractionDigits:0}).format(parseFloat(r));return(r,t)=>(x(),p("section",U,[e("div",T,[e("div",q,[e("h2",E,c(r.$t("Plans.ChoosePlanThatFitYourBusiness")),1),e("p",G,c(r.$t("Plans.chooseNowFormMultiplePlans")),1)]),e("div",I,[(x(!0),p(z,null,L(y.value,(a,l)=>(x(),p("div",{class:"w-full px-4 md:w-1/2 lg:w-1/3",key:l},[e("div",O,[e("span",Q,c(a.name),1),e("h2",V,c(h(a.price)),1),e("ul",K,[e("li",X,[Y,e("span",null,c(a.contract_count)+" "+c(r.$t("Plans.contract")),1)]),e("li",H,[J,e("span",null,c(r.$t("Plans.unlimited")),1)]),e("li",W,[Z,e("span",null,c(h(parseFloat(a.price)/a.contract_count))+" "+c(r.$t("Plans.only"))+" "+c(r.$t("Plans.for"))+" "+c(r.$t("Plans.contract")),1)])]),e("a",{onClick:_(n=>g(a.price),["prevent"]),class:"text-white bg-primary focus:ring-4 focus:ring-primary-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:text-white dark:focus:ring-primary-900"},c(r.$t("Plans.payNow")),9,tt),et])]))),128))])]),e("div",{class:j(["fixed inset-0 bg-[black]/60 z-[999] hidden",d.value&&"!block"])},[e("div",{class:"flex items-start justify-center min-h-screen px-4",onClick:t[0]||(t[0]=_(a=>d.value=!1,["self"]))},[e("div",rt,[e("div",lt,[at,e("div",ct,[e("button",{type:"button",class:"btn btn-outline-danger",onClick:g},c(r.$t("close")),1)])])])])],2)]))}});export{it as default};
