import{d as q,K as B,L as I,u as P,a as R,r as $,w as M,c as d,b as t,t as a,n as L,e as n,f as x,g as k,i as C,F as S,h as A,m as V,p as j,_ as T,q as U,s as m}from"./index.433ec507.js";import{u as z,A as E,r as D,e as H,_ as J}from"./lodash.56960555.js";import{S as K}from"./AxiosClient.a377a822.js";/* empty css                                     */const O={class:"flex justify-center md:justify-start min-h-screen items-center"},G=t("div",{class:"sm:fixed rtl:left-0 ltr:right-0 top-0 bottom-0 sm:w-1/2 sm:hidden md:block"},[t("div",{class:"min-h-screen bg-cover hidden sm:block",style:{"background-image":"url(https://partners.wtheq.sa/company/section.jpg)"}})],-1),Q={class:"md:w-1/2 p-10 sm:px-10 lg:p-28"},W={class:"grid justify-items-center items-center"},X=t("a",{href:"https://partners.wtheq.sa"},[t("img",{loading:"lazy",width:"150",src:T,alt:"\u0648\u062B\u0642"})],-1),Y={class:"mt-6 text-lg sm:text-2xl font-bold text-gray-900"},Z={class:"grid justify-items-center items-center"},ee={class:"mt-6 text-lg sm:text-2xl font-bold text-gray-900"},te={class:"mt-4"},se={class:"mb-3"},ae={class:"text-gray-500 text-sm sm:text-md"},oe={class:"mt-4"},ie={for:"email"},le=t("span",{class:"text-red-500"},"*",-1),ne=["placeholder"],re={key:0,class:"text-danger mt-1"},de={key:1,class:"text-danger mt-1"},me={key:1,class:"text-[#1abc9c] mt-1"},ce={class:"mt-4"},ue={for:"password"},pe=t("span",{class:"text-red-500"},"*",-1),he=["placeholder"],ge={key:0,class:"text-danger mt-1"},ve={key:1,class:"text-danger mt-1"},fe={class:"forgetPassword mt-5"},_e={class:"text-[#1abc9c] mt-1 font-bold text-base"},we={class:"flex items-center justify-end mt-4"},$e={class:"haveAccount mt-5 text-center flex justify-center items-center gap-2"},ye={class:"text-base font-bold text-slate-500"},be={class:"text-[#1abc9c] mt-1 font-bold text-base"},Ae=q({__name:"cover-login",setup(Fe){const y=B(),b=I(),{t:F}=P();R({title:"Login Cover"});const r=$({email:"",password:""}),i=$({email:[],password:[]}),o=$(!1),l=z({LoginForm:{email:{required:D,email:H},password:{required:D}}},{LoginForm:r});M(()=>J.cloneDeep(r.value),()=>{o.value=!1});const N=async()=>{if(o.value=!0,l.value.LoginForm.$touch(),l.value.LoginForm.$invalid)return c(F("errors.someEnteredDataNotCorrect"),"error"),!1;i.value={email:[],password:[]};const s={email:r.value.email,password:r.value.password};E.Login(s).then(e=>{var u,h,g,v,f,_,w,p;(e==null?void 0:e.status)===200?(c(e.data.message,"success"),b.setToken((h=(u=e==null?void 0:e.data)==null?void 0:u.data)==null?void 0:h.token),b.setUserData((g=e==null?void 0:e.data)==null?void 0:g.data),sessionStorage.setItem("token",(f=(v=e==null?void 0:e.data)==null?void 0:v.data)==null?void 0:f.token),sessionStorage.setItem("userData",JSON.stringify((_=e==null?void 0:e.data)==null?void 0:_.data)),((w=e==null?void 0:e.data)==null?void 0:w.redirect)==="PLANS"?y.push("/auth/Plans"):y.push("/")):((p=e==null?void 0:e.response)==null?void 0:p.status)>400?(i.value=e.data.errors,c(e.response.data.message,"error")):(e==null?void 0:e.status)>400?(i.value=e.data.errors,c(e.data.message,"error")):c(e,"error")}).catch(e=>{i.value=e.data.errors,c(e.data.message,"error")})},c=(s="",e="success")=>{K.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:5e3,customClass:{container:"toast"}}).fire({icon:e,title:s,padding:"10px 20px"})};return(s,e)=>{var h,g,v,f,_,w;const u=U("router-link");return m(),d("div",O,[G,t("div",Q,[t("div",W,[X,t("h2",Y,a(s.$t("RegisterForm.companyInstitution")),1)]),t("div",Z,[t("h2",ee,a(s.$t("LoginForm.LoginAccount")),1)]),t("div",te,[t("div",se,[t("h1",ae,a(s.$t("LoginForm.LoginAccount")),1)]),t("form",null,[t("div",oe,[t("div",{class:L({"has-error":o.value&&n(l).LoginForm.email.$error||o.value&&((h=i.value.email)==null?void 0:h.length)>0,"has-success":o.value&&!n(l).LoginForm.email.$error})},[t("label",ie,[x(a(s.$t("fields.email"))+" ",1),le]),k(t("input",{id:"email",type:"email",placeholder:s.$t("fields.enterFieldValue",{name:s.$t("fields.email")}),autocomplete:"email",class:"form-input","onUpdate:modelValue":e[0]||(e[0]=p=>r.value.email=p)},null,8,ne),[[C,r.value.email]]),o.value&&n(l).LoginForm.email.$error||o.value&&((g=i.value.email)==null?void 0:g.length)>0?(m(),d(S,{key:0},[((v=i.value.email)==null?void 0:v.length)>0?(m(),d("p",re,a(i.value.email[0]),1)):(m(),d("p",de,a(s.$t("errors."+n(l).LoginForm.email.$errors[0].$message.toString(),{name:s.$t("fields.email")})),1))],64)):o.value&&!n(l).LoginForm.email.$error?(m(),d("p",me,a(s.$t("success.doneInput")),1)):A("",!0)],2)]),t("div",ce,[t("div",{class:L({"has-error":o.value&&n(l).LoginForm.password.$error||o.value&&((f=i.value.password)==null?void 0:f.length)>0,"has-success":o.value&&!n(l).LoginForm.password.$error})},[t("label",ue,[x(a(s.$t("fields.password"))+" ",1),pe]),k(t("input",{id:"password",type:"password",placeholder:s.$t("fields.enterFieldValue",{name:s.$t("fields.password")}),class:"form-input","onUpdate:modelValue":e[1]||(e[1]=p=>r.value.password=p)},null,8,he),[[C,r.value.password]]),o.value&&n(l).LoginForm.password.$error||o.value&&((_=i.value.password)==null?void 0:_.length)>0?(m(),d(S,{key:0},[((w=i.value.password)==null?void 0:w.length)>0?(m(),d("p",ge,a(i.value.password[0]),1)):(m(),d("p",ve,a(s.$t("errors.inputRequired",{name:s.$t("fields.password")})),1))],64)):A("",!0)],2)]),t("div",fe,[V(u,{to:"/reset/password"},{default:j(()=>[t("p",_e,a(s.$t("LoginForm.ForgetPassword")),1)]),_:1})]),t("div",we,[t("button",{type:"button",onClick:N,class:"btn btn-primary !mt-6 w-full"},a(n(F)("fields.signin")),1)]),t("div",$e,[t("span",ye,a(s.$t("LoginForm.DontHaveAccount")),1),V(u,{to:"/auth/register"},{default:j(()=>[t("p",be,a(s.$t("LoginForm.CreateAccount")),1)]),_:1})])])])])])}}});export{Ae as default};
